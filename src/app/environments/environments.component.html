<div class="header-wrapper">
    <h1 class="uk-heading-divider">Environments</h1>
    <div class="header-btn">
        <button class="uk-button uk-button-primary uk-button-small">Create new</button>
    </div>  
</div>


<div class="env-wrapper">

    <div class="uk-child-width-1-3@m uk-grid-small uk-grid-match" uk-grid>
        <div *ngFor="let e of envs">
            <div class="uk-card uk-card-default uk-card-body uk-card-hover">
                <div class="uk-card-badge uk-label" [ngClass]="{'uk-label-success': e.status=='running', 'uk-label-warning': e.status=='stopped'}">{{e.status}}</div>
                <h3 class="uk-card-title">{{e.name}}</h3>
                <p>{{e.description}}</p>
                <button class="uk-button uk-button-default uk-button-small" uk-toggle="target: #env-detail" (click)="getEnv(e.id)">Details</button>
                
            </div>
        </div>
    </div>
</div>

<div id="env-detail" uk-modal>
    <div class="uk-modal-dialog" *ngIf="env">
        <button class="uk-modal-close-default" type="button" uk-close></button>
        <div class="uk-modal-header">
            <h2 class="uk-modal-title">{{env.name}}</h2>
        </div>
        <div class="uk-modal-body">
          <p>
            <b>Description</b><br>{{env.description}}<br><br>
            <b>Created</b><br>{{env.created_at | date:'MMM d, y, H:mm:ss'}} by {{env.creator.first_name}} {{env.creator.last_name}}<br><br>
            <b>Environment API</b><br>Todo<br><br>
          </p>
        </div>
        <div class="uk-modal-footer uk-text-right">
          <button class="uk-button uk-button-primary" type="button" (click)="openJupyter()" *ngIf="env.status=='running'">Open Jupyter</button>
          <button class="uk-button uk-button-primary" type="button" *ngIf="env.status=='stopped'" (click)="start()">Start</button>
          <button class="uk-button uk-button-secondary" type="button" *ngIf="env.status=='running'" (click)="stop()">Stop</button>
          <button class="uk-button uk-button-danger" type="button" *ngIf="env.status=='stopped'">Delete</button>
          <button class="uk-button uk-button-default uk-modal-close" type="button">Close</button>
        </div>
    </div>
</div>